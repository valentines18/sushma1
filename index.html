<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>For Sushma ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&family=Poppins:wght@300;500&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  background: black;
  color: white;
  font-family: 'Poppins', sans-serif;
  overflow: hidden;
}

/* Background */
.alchemy-bg {
  position: fixed;
  inset: 0;
  pointer-events: none;
  opacity: 0.12;
  background:
    radial-gradient(circle at center, rgba(255,120,0,0.22), transparent 55%),
    radial-gradient(circle at center, rgba(255,255,255,0.06), transparent 60%);
  transition: opacity 1s ease;
}

.alchemy-ring {
  position: fixed;
  top: 50%;
  left: 50%;
  width: 520px;
  height: 520px;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  border: 1px solid rgba(255, 180, 80, 0.25);
  box-shadow: 0 0 30px rgba(255, 140, 0, 0.10);
  pointer-events: none;
  animation: rotate 22s linear infinite;
  transition: opacity 1s ease;
}

.alchemy-ring::before,
.alchemy-ring::after {
  content: "";
  position: absolute;
  inset: 22px;
  border-radius: 50%;
  border: 1px dashed rgba(255, 180, 80, 0.20);
}

.alchemy-ring::after {
  inset: 70px;
  border: 1px solid rgba(255, 180, 80, 0.15);
}

@keyframes rotate {
  from { transform: translate(-50%, -50%) rotate(0deg); }
  to   { transform: translate(-50%, -50%) rotate(360deg); }
}

/* Scenes */
.scene {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  text-align: center;
  padding: 22px;
  opacity: 0;
  transition: opacity 1.2s ease;
  pointer-events: none;
  z-index: 5;
}

.scene.active {
  opacity: 1;
  pointer-events: all;
}

.card {
  width: min(980px, 95vw);
  min-height: 460px;
  background: rgba(0,0,0,0.95);
  border: 1px solid rgba(255, 180, 80, 0.12);
  border-radius: 28px;
  padding: 34px 28px;
  box-shadow: 0 0 40px rgba(0,0,0,0.5);
  backdrop-filter: blur(6px);
  position: relative;
}

h1 {
  font-family: 'Playfair Display', serif;
  font-size: 2.5em;
  margin: 0;
}

p {
  opacity: 0.9;
  font-size: 1.15em;
  line-height: 1.6;
}

button {
  padding: 12px 25px;
  margin-top: 18px;
  font-size: 18px;
  border-radius: 30px;
  border: none;
  cursor: pointer;
  transition: transform 0.15s ease, opacity 0.15s ease;
}

button:active { transform: scale(0.98); }

.primary { background: crimson; color: white; }
.secondary { background: #444; color: white; }

/* Dialogue */
#dialogue { margin-top: 14px; min-height: 90px; font-size: 1.2em; }

/* Roy container */
#royContainer {
  position: fixed;
  z-index: 999;
  display: inline-block;
  margin-top: 10px;
}
#royText {
  font-size: 14px;
  margin-bottom: 6px;
  color: orange;
  opacity: 0.95;
}

/* Embers */
.ember {
  position: absolute;
  width: 6px;
  height: 6px;
  background: orange;
  border-radius: 50%;
  opacity: 0.85;
  animation: rise 5s linear infinite;
  filter: blur(0.2px);
  pointer-events: none;
}

@keyframes rise {
  0% { transform: translateY(110vh); opacity:1; }
  100% { transform: translateY(-15vh); opacity:0; }
}

/* Flash */
#flash {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at center, rgba(255,180,90,0.95), rgba(255,90,0,0.2), rgba(0,0,0,0));
  opacity: 0;
  pointer-events: none;
  z-index: 999;
}
.flashOn { animation: flash 1.2s ease forwards; }
@keyframes flash {
  0%   { opacity:0; }
  18%  { opacity:1; }
  55%  { opacity:0.35; }
  100% { opacity:0; }
}

/* FINAL SCENE */
#scene4 { z-index: 20; }

.finalWrap {
  position: relative;
  width: min(900px, 95vw);
  padding: 60px 40px;
  border-radius: 28px;
  background: radial-gradient(circle at top, rgba(255,180,90,0.14), rgba(0,0,0,0.55));
  border: 1px solid rgba(255,180,80,0.18);
  box-shadow: 0 0 45px rgba(0,0,0,0.6), 0 0 45px rgba(255,140,0,0.08);
  backdrop-filter: blur(10px);
  overflow: visible;
}

.finalGlow {
  position: absolute;
  inset: -60px;
  background: radial-gradient(circle at center, rgba(255,180,90,0.25), transparent 60%);
  opacity: 0.9;
  filter: blur(10px);
  pointer-events: none;
  animation: pulse 3.2s ease-in-out infinite;
}

@keyframes pulse {
  0%,100% { transform: scale(1); opacity:0.75; }
  50% { transform: scale(1.05); opacity:1; }
}

.finalTitle { font-family: 'Playfair Display', serif; font-size: 2.8em; margin:0; position:relative; z-index:2; }
.finalText { margin-top:18px; font-size:1.5em; line-height:1.7; opacity:0.95; position:relative; z-index:2; }
.finalSig { margin-top:22px; font-size:1.2em; opacity:0.92; position:relative; z-index:2; }
.finalSmall { margin-top:16px; font-size:1em; opacity:0.65; position:relative; z-index:2; }

/* Seal SVG */
#seal { position:absolute; top:50%; left:50%; width:480px; height:480px; transform:translate(-50%,-50%); z-index:1; opacity:0.85; }
#seal circle { fill:none; stroke:gold; stroke-width:4; stroke-dasharray:1510; stroke-dashoffset:1510; animation: drawSeal 2.2s ease forwards 0.6s; }
@keyframes drawSeal { 0% { stroke-dashoffset:1510;} 100% { stroke-dashoffset:0;} }

@media(max-width:520px){
  h1{font-size:2.1em;}
  #dialogue{font-size:1.05em;}
  .finalTitle{font-size:2.1em;}
  .finalText{font-size:1.2em;}
  #seal{width:320px;height:320px;}
}

/* Hide the audio player */
#audio, #bgMusic { display:none; }
</style>
</head>
<body>

<div id="alchemyBg" class="alchemy-bg"></div>
<div id="alchemyRing" class="alchemy-ring"></div>
<div id="flash"></div>

<!-- Scene 1 -->
<div id="scene1" class="scene active">
  <div class="card">
    <h1>Sushma...</h1>
    <p>There‚Äôs something I need to tell you.</p>
    <button id="startBtn" class="primary">Begin Our Story üî•</button>
  </div>
</div>

<!-- Scene 2 -->
<div id="scene2" class="scene">
  <div class="card">
    <h1>Sushma</h1>
    <div id="dialogue"></div>
    <button id="nextToQuestion" class="primary">Continue ‚Üí</button>
  </div>
</div>

<!-- Scene 3 -->
<div id="scene3" class="scene">
  <div class="card">
    <h1>One question‚Ä¶</h1>
    <p style="margin-top:10px;">Will you be my Valentine? üíñ</p>
    <button id="yesBtn" class="primary">Yes ‚ù§Ô∏è</button>
    <div id="royContainer">
      <div id="royText">üî• Roy Mustang is guarding this</div>
      <button id="noBtn" class="secondary">No</button>
    </div>
  </div>
</div>

<!-- Scene 4 -->
<div id="scene4" class="scene">
  <div class="finalWrap">
    <div class="finalGlow"></div>
    <svg id="seal" viewBox="0 0 420 420"><circle cx="210" cy="210" r="210"></circle></svg>
    <h1 class="finalTitle">Law of Equivalent Exchange‚Ä¶</h1>
    <div class="finalText">
      I‚Äôll give you half of my life<br>
      if you give me half of yours.
    </div>
    <div class="finalSig">‚Äî Rakesh ‚ù§Ô∏è</div>
    <div class="finalSmall">‚ú® This is my vow.</div>
  </div>
</div>

<!-- Background music -->
<audio id="bgMusic" src="https://p.scdn.co/mp3-preview/5XeFesFbtLpXzIVDNQP22n?cid=774b29d4f13844c495f206cafdad9c86" loop></audio>

<script>
// Scene control
function showScene(id){
  const scenes=["scene1","scene2","scene3","scene4"];
  scenes.forEach(s=>document.getElementById(s).classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

// Scene 2 dialogue
const text=["Sushma...","Even though we are just getting to know each other,","I feel a connection I can‚Äôt ignore.","I would like to walk beside you and build a life together."];

function typeDialogue(){
  const dialogueEl=document.getElementById("dialogue");
  dialogueEl.innerHTML="";
  let i=0;
  function typeLine(){
    if(i>=text.length) return;
    const line=text[i]; let j=0;
    const interval=setInterval(()=>{
      dialogueEl.innerHTML+=line[j]; j++;
      if(j>=line.length){ clearInterval(interval); dialogueEl.innerHTML+="<br><br>"; i++; setTimeout(typeLine,650);}
    },32);
  }
  typeLine();
}

document.getElementById("startBtn").onclick = ()=>{
  showScene("scene2");
  typeDialogue();
  
  // Play music in scene 2
  const music = document.getElementById("bgMusic");
  music.play().catch(()=>console.log("Autoplay blocked"));
}

document.getElementById("nextToQuestion").onclick = ()=>{
  showScene("scene3");
  // Pause music when moving to Scene 3
  const music = document.getElementById("bgMusic");
  music.pause();
}

// Roy smooth dodge
const royContainer=document.getElementById("royContainer");
function moveRoyContainer(){
  const padding=20;
  const maxX=window.innerWidth-royContainer.offsetWidth-padding;
  const maxY=window.innerHeight-royContainer.offsetHeight-padding;
  const x=Math.max(padding,Math.random()*maxX);
  const y=Math.max(padding,Math.random()*maxY);
  royContainer.style.transition="left 0.4s ease, top 0.4s ease";
  royContainer.style.left=x+"px";
  royContainer.style.top=y+"px";
}
royContainer.addEventListener("mouseover", moveRoyContainer);
royContainer.addEventListener("touchstart", moveRoyContainer);

// YES -> Flash -> Smooth Scene 4
document.getElementById("yesBtn").onclick = ()=>{
  const flash=document.getElementById("flash");
  flash.classList.remove("flashOn"); void flash.offsetWidth;
  flash.classList.add("flashOn");

  // Fade out Scene 3
  const scene3=document.getElementById("scene3");
  scene3.style.opacity=0;

  setTimeout(()=>{
    ["scene1","scene2","scene3"].forEach(id=>document.getElementById(id).style.display="none");
    document.getElementById("alchemyRing").style.opacity="0";
    document.getElementById("alchemyBg").style.opacity="0.06";
    document.querySelectorAll(".ember").forEach(e=>e.remove());
    // Fade in Scene 4
    const scene4=document.getElementById("scene4");
    scene4.style.display="flex";
    setTimeout(()=>scene4.style.opacity=1,50);
  },1200);
}

// Embers
for(let i=0;i<45;i++){
  const ember=document.createElement("div");
  ember.className="ember";
  ember.style.left=Math.random()*100+"vw";
  ember.style.animationDuration=(3+Math.random()*3)+"s";
  ember.style.opacity=(0.25+Math.random()*0.65);
  ember.style.transform=`scale(${0.6+Math.random()*1.2})`;
  document.body.appendChild(ember);
}
</script>
</body>
</html>
